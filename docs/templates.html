

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Templates &mdash; bargate documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="bargate documentation" href="index.html"/>
        <link rel="next" title="Single sign on" href="sso.html"/>
        <link rel="prev" title="Shares configuration" href="shares.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> bargate
          

          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_options.html">Configuration options</a></li>
<li class="toctree-l1"><a class="reference internal" href="shares.html">Shares configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#set-up-local-templates">Set up local templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-local-static-files">Set up local static files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-the-favicon">Changing the favicon</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templates-you-should-edit">Templates you should edit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templates-you-can-edit">Templates you can edit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templates-you-should-not-edit">Templates you should not edit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sso.html">Single sign on</a></li>
<li class="toctree-l1"><a class="reference internal" href="searchsupport.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="knownissues.html">Known issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">bargate</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Templates</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="templates">
<h1>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h1>
<p>As a Flask based web application, bargate uses the Jinja2 template system to
generate the HTML output that your users see. In order to let you customise this
output Bargate can be configured to specify an alternative &#8216;local templates&#8217;
directory. If files are placed in this directory then they will be used in
preference to those built into bargate.</p>
<p>In this way you can selectivley override parts of Bargate&#8217;s output and customise
what the interface looks like, what menu items exist, etc. Any bargate template
can be overridden but it is recommended that you only override templates designed
for you to do so.</p>
<div class="section" id="set-up-local-templates">
<h2>Set up local templates<a class="headerlink" href="#set-up-local-templates" title="Permalink to this headline">¶</a></h2>
<p>To get started you need to set the <a class="reference internal" href="config_options.html#config-local-template-dir"><span class="std std-ref">LOCAL_TEMPLATE_DIR</span></a> option in
bargate.conf to point at a directory where you will place your local templates.
You then need to restart bargate so it will notice the new config option, on startup
it should output something like this to the log file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">28</span> <span class="mi">19</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">47</span><span class="p">,</span><span class="mi">119</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">site</span><span class="o">-</span><span class="n">specific</span> <span class="n">templates</span> <span class="n">will</span> <span class="n">be</span> <span class="n">loaded</span> <span class="n">from</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">bargate</span><span class="o">/</span><span class="n">local_templates</span><span class="o">/</span>
</pre></div>
</div>
<p>You will now need to create files in the directory matching names that Bargate looks
for. Please see the section below for the names of the files you can override
and what each file is for.</p>
<p>All template names end in &#8216;.html&#8217;, for brevity this is omitted below.</p>
</div>
<div class="section" id="set-up-local-static-files">
<h2>Set up local static files<a class="headerlink" href="#set-up-local-static-files" title="Permalink to this headline">¶</a></h2>
<p>When writing your own templates you&#8217;ll probably want to include your own logo
images and possibly your own favicon or css/javascript. Rather than put these
files into the bargate static directory you should place them in a site-specific
local static directory via the <a class="reference internal" href="config_options.html#config-local-static-dir"><span class="std std-ref">LOCAL_STATIC_DIR</span></a> option.</p>
<p>To get started set the <a class="reference internal" href="config_options.html#config-local-static-dir"><span class="std std-ref">LOCAL_STATIC_DIR</span></a> option in
bargate.conf to point at a directory where you will place your static files.
You then need to restart bargate so it will notice the new config option, on startup
it should output something like this to the log file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">28</span> <span class="mi">19</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">47</span><span class="p">,</span><span class="mi">119</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">site</span><span class="o">-</span><span class="n">specific</span> <span class="n">templates</span> <span class="n">will</span> <span class="n">be</span> <span class="n">loaded</span> <span class="n">from</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">bargate</span><span class="o">/</span><span class="n">local_templates</span><span class="o">/</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">23</span> <span class="mi">17</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="mi">475</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">site</span><span class="o">-</span><span class="n">specific</span> <span class="n">static</span> <span class="n">files</span> <span class="n">will</span> <span class="n">be</span> <span class="n">served</span> <span class="n">from</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">bargate</span><span class="o">/</span><span class="n">local_static</span><span class="o">/</span>
</pre></div>
</div>
<p>You can then refer to files in that directory from your templates using the
url_for function with the first parameter set to &#8216;local_static&#8217;, like so:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span> <span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;local_static&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;logo.png&#39;</span><span class="p">)</span> <span class="p">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="changing-the-favicon">
<h2>Changing the favicon<a class="headerlink" href="#changing-the-favicon" title="Permalink to this headline">¶</a></h2>
<p>If a &#8216;favicon.ico&#8217; file resides in the <a class="reference internal" href="config_options.html#config-local-static-dir"><span class="std std-ref">LOCAL_STATIC_DIR</span></a>
directory then this file will automatically be detected and used as the site
specific favicon. At startup the log file will say something like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">23</span> <span class="mi">17</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">44</span><span class="p">,</span><span class="mi">475</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">site</span><span class="o">-</span><span class="n">specific</span> <span class="n">favicon</span> <span class="n">found</span>
</pre></div>
</div>
</div>
<div class="section" id="templates-you-should-edit">
<h2>Templates you should edit<a class="headerlink" href="#templates-you-should-edit" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dropdown-menus</td>
<td>drop-down menus intended for links to file servers/shares</td>
</tr>
<tr class="row-odd"><td>help-menu</td>
<td>menu intended for items relating to user help/about</td>
</tr>
<tr class="row-even"><td>login-body</td>
<td>the top of the &lt;body&gt; element of the login page</td>
</tr>
<tr class="row-odd"><td>login-container</td>
<td>the login page header area (top of the login box)</td>
</tr>
<tr class="row-even"><td>login-footer</td>
<td>the login page footer area (bottom of the login box)</td>
</tr>
<tr class="row-odd"><td>login-head</td>
<td>the &lt;head&gt; part of the login page</td>
</tr>
<tr class="row-even"><td>other</td>
<td>a menu of smb file servers to connect to</td>
</tr>
<tr class="row-odd"><td>user-menu</td>
<td>part of the &#8216;bargate menu&#8217; - between settings and logout</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="templates-you-can-edit">
<h2>Templates you can edit<a class="headerlink" href="#templates-you-can-edit" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>custom</td>
<td>connect to server form</td>
</tr>
<tr class="row-odd"><td>error</td>
<td>the generic error page</td>
</tr>
<tr class="row-even"><td>header-links</td>
<td>CSS file imports</td>
</tr>
<tr class="row-odd"><td>javascript</td>
<td>javascript file imports</td>
</tr>
<tr class="row-even"><td>login</td>
<td>login page/form</td>
</tr>
<tr class="row-odd"><td>nojs</td>
<td>page shown when the user has javascript disabled</td>
</tr>
<tr class="row-even"><td>totp_verify</td>
<td>page shown when the user must enter their two factor token</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="templates-you-should-not-edit">
<h2>Templates you should not edit<a class="headerlink" href="#templates-you-should-not-edit" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>about</td>
<td>bargate about page</td>
</tr>
<tr class="row-odd"><td>bookmarks</td>
<td>bookmark manager page</td>
</tr>
<tr class="row-even"><td>bookmarks-menu</td>
<td>drop down menu listing user bookmarks</td>
</tr>
<tr class="row-odd"><td>breadcrumbs</td>
<td>breadcrumb generation code</td>
</tr>
<tr class="row-even"><td>changelog</td>
<td>bargate changelog</td>
</tr>
<tr class="row-odd"><td>directory-grid</td>
<td>the grid-layout directory view</td>
</tr>
<tr class="row-even"><td>directory-list</td>
<td>the list-layout directory view</td>
</tr>
<tr class="row-odd"><td>directory-menus</td>
<td>right click menus for directory view</td>
</tr>
<tr class="row-even"><td>directory-modals</td>
<td>pop-up modals for directory view</td>
</tr>
<tr class="row-odd"><td>foad</td>
<td>page shown to users with an out-of-date web browser</td>
</tr>
<tr class="row-even"><td>layout</td>
<td>master template for all pages</td>
</tr>
<tr class="row-odd"><td>online</td>
<td>list of all online users</td>
</tr>
<tr class="row-even"><td>settings</td>
<td>user settings page</td>
</tr>
<tr class="row-odd"><td>totp_disable</td>
<td>two-factor authentication disable form</td>
</tr>
<tr class="row-even"><td>totp_enable</td>
<td>two-factor authentication enable form</td>
</tr>
<tr class="row-odd"><td>search</td>
<td>search results view</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sso.html" class="btn btn-neutral float-right" title="Single sign on" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="shares.html" class="btn btn-neutral" title="Shares configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, David Bell.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.5.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>